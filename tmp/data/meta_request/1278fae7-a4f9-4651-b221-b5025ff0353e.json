[{"name":"sql.active_record","payload":{"sql":"SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = 3  ORDER BY \"users\".\"id\" ASC LIMIT 1","name":"User Load","connection_id":2219609860,"statement_name":null,"binds":[]},"time":"2015-06-02T16:27:07.380+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.382+08:00","children":[],"duration":1.331},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":2219609860,"statement_name":null,"binds":[],"line":8,"filename":"/Users/Ryan/ink/OnlineStore/app/controllers/orders_controller.rb","method":"create"},"time":"2015-06-02T16:27:07.387+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.388+08:00","children":[],"duration":0.661},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"orders\" (\"created_at\", \"token\", \"updated_at\", \"user_id\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","name":"SQL","connection_id":2219609860,"statement_name":"a11","binds":[[{"oid_type":{},"array":false,"name":"created_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2015-06-02 08:27:07.389784"],[{"oid_type":{},"array":false,"name":"token","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"d5b83d70-69cd-4723-902e-9d02fbdc15c8"],[{"oid_type":{},"array":false,"name":"updated_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2015-06-02 08:27:07.389784"],[{"oid_type":{},"array":false,"name":"user_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":false,"coder":null},3]],"line":8,"filename":"/Users/Ryan/ink/OnlineStore/app/controllers/orders_controller.rb","method":"create"},"time":"2015-06-02T16:27:07.390+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.391+08:00","children":[],"duration":0.877},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"order_infos\" (\"billing_address\", \"billing_name\", \"created_at\", \"order_id\", \"shipping_address\", \"shipping_name\", \"updated_at\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"","name":"SQL","connection_id":2219609860,"statement_name":"a12","binds":[[{"oid_type":{},"array":false,"name":"billing_address","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"pk_test_4TNwAuqdAD1y0Ut9RTr1iVI1"],[{"oid_type":{},"array":false,"name":"billing_name","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"Ryan Yang"],[{"oid_type":{},"array":false,"name":"created_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2015-06-02 08:27:07.393967"],[{"oid_type":{},"array":false,"name":"order_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":false,"coder":null},3],[{"oid_type":{},"array":false,"name":"shipping_address","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"pk_test_4TNwAuqdAD1y0Ut9RTr1iVI1"],[{"oid_type":{},"array":false,"name":"shipping_name","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"pk_test_4TNwAuqdAD1y0Ut9RTr1iVI1"],[{"oid_type":{},"array":false,"name":"updated_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2015-06-02 08:27:07.393967"]],"line":8,"filename":"/Users/Ryan/ink/OnlineStore/app/controllers/orders_controller.rb","method":"create"},"time":"2015-06-02T16:27:07.394+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.395+08:00","children":[],"duration":0.9859999999999999},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":2219609860,"statement_name":null,"binds":[],"line":8,"filename":"/Users/Ryan/ink/OnlineStore/app/controllers/orders_controller.rb","method":"create"},"time":"2015-06-02T16:27:07.399+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.400+08:00","children":[],"duration":1.349},{"name":"sql.active_record","payload":{"sql":"SELECT  \"carts\".* FROM \"carts\"  WHERE \"carts\".\"id\" = 3 LIMIT 1","name":"Cart Load","connection_id":2219609860,"statement_name":null,"binds":[],"line":32,"filename":"/Users/Ryan/ink/OnlineStore/app/controllers/application_controller.rb","method":"find_cart"},"time":"2015-06-02T16:27:07.403+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.404+08:00","children":[],"duration":0.708},{"name":"sql.active_record","payload":{"sql":"SELECT \"cart_items\".* FROM \"cart_items\"  WHERE \"cart_items\".\"cart_id\" = $1","name":"CartItem Load","connection_id":2219609860,"statement_name":"a10","binds":[[{"oid_type":{},"array":false,"name":"cart_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":null,"coder":null},3]],"line":32,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"build_item_cache_from_cart"},"time":"2015-06-02T16:27:07.406+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.407+08:00","children":[],"duration":0.618},{"name":"sql.active_record","payload":{"sql":"SELECT  \"products\".* FROM \"products\"  WHERE \"products\".\"id\" = $1 LIMIT 1","name":"Product Load","connection_id":2219609860,"statement_name":"a6","binds":[[{"oid_type":{},"array":false,"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":"nextval('products_id_seq'::regclass)","primary":null,"coder":null},1]],"line":34,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"block in build_item_cache_from_cart"},"time":"2015-06-02T16:27:07.410+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.411+08:00","children":[],"duration":0.632},{"name":"sql.active_record","payload":{"sql":"SELECT  \"stores\".* FROM \"stores\"  WHERE \"stores\".\"id\" = $1 LIMIT 1","name":"Store Load","connection_id":2219609860,"statement_name":"a13","binds":[[{"oid_type":{},"array":false,"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":"nextval('stores_id_seq'::regclass)","primary":null,"coder":null},1]],"line":37,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"block in build_item_cache_from_cart"},"time":"2015-06-02T16:27:07.414+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.415+08:00","children":[],"duration":1.6019999999999999},{"name":"sql.active_record","payload":{"sql":"SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = $1 LIMIT 1","name":"User Load","connection_id":2219609860,"statement_name":"a1","binds":[[{"oid_type":{},"array":false,"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":"nextval('users_id_seq'::regclass)","primary":null,"coder":null},1]],"line":37,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"block in build_item_cache_from_cart"},"time":"2015-06-02T16:27:07.421+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.421+08:00","children":[],"duration":0.799},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":2219609860,"statement_name":null,"binds":[],"line":38,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"block in build_item_cache_from_cart"},"time":"2015-06-02T16:27:07.425+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.426+08:00","children":[],"duration":0.888},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"order_items\" (\"created_at\", \"order_id\", \"price\", \"product_name\", \"quantity\", \"seller_id\", \"updated_at\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"","name":"SQL","connection_id":2219609860,"statement_name":"a14","binds":[[{"oid_type":{},"array":false,"name":"created_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2015-06-02 08:27:07.428846"],[{"oid_type":{},"array":false,"name":"order_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":false,"coder":null},3],[{"oid_type":{},"array":false,"name":"price","sql_type":"double precision","null":true,"limit":null,"precision":null,"scale":null,"type":"float","default":null,"default_function":null,"primary":false,"coder":null},20.0],[{"oid_type":{},"array":false,"name":"product_name","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"Apple watch"],[{"oid_type":{},"array":false,"name":"quantity","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":false,"coder":null},1],[{"oid_type":{},"array":false,"name":"seller_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":false,"coder":null},1],[{"oid_type":{},"array":false,"name":"updated_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2015-06-02 08:27:07.428846"]],"line":38,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"block in build_item_cache_from_cart"},"time":"2015-06-02T16:27:07.429+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.430+08:00","children":[],"duration":0.712},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":2219609860,"statement_name":null,"binds":[],"line":38,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"block in build_item_cache_from_cart"},"time":"2015-06-02T16:27:07.434+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.440+08:00","children":[],"duration":6.899},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":2219609860,"statement_name":null,"binds":[],"line":44,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"calculate_total!"},"time":"2015-06-02T16:27:07.443+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.444+08:00","children":[],"duration":0.964},{"name":"sql.active_record","payload":{"sql":"UPDATE \"orders\" SET \"total\" = $1, \"updated_at\" = $2 WHERE \"orders\".\"id\" = 3","name":"SQL","connection_id":2219609860,"statement_name":"a20","binds":[[{"oid_type":{},"array":false,"name":"total","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":0,"default_function":null,"primary":false,"coder":null},20],[{"oid_type":{},"array":false,"name":"updated_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2015-06-02 08:27:07.446542"]],"line":44,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"calculate_total!"},"time":"2015-06-02T16:27:07.448+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.449+08:00","children":[],"duration":1.591},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":2219609860,"statement_name":null,"binds":[],"line":44,"filename":"/Users/Ryan/ink/OnlineStore/app/models/order.rb","method":"calculate_total!"},"time":"2015-06-02T16:27:07.454+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.455+08:00","children":[],"duration":1.391},{"name":"sql.active_record","payload":{"sql":"SELECT  \"order_items\".* FROM \"order_items\"  WHERE \"order_items\".\"order_id\" = $1  ORDER BY \"order_items\".\"id\" ASC LIMIT 1","name":"OrderItem Load","connection_id":2219609860,"statement_name":"a16","binds":[[{"oid_type":{},"array":false,"name":"order_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":null,"coder":null},3]],"line":10,"filename":"/Users/Ryan/ink/OnlineStore/app/services/order_placing_service.rb","method":"place_order!"},"time":"2015-06-02T16:27:07.459+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.459+08:00","children":[],"duration":0.6970000000000001},{"name":"sql.active_record","payload":{"sql":"SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = $1 LIMIT 1","name":"User Load","connection_id":2219609860,"statement_name":"a1","binds":[[{"oid_type":{},"array":false,"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":"nextval('users_id_seq'::regclass)","primary":null,"coder":null},1]],"line":10,"filename":"/Users/Ryan/ink/OnlineStore/app/services/order_placing_service.rb","method":"place_order!"},"time":"2015-06-02T16:27:07.462+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.463+08:00","children":[],"duration":0.627},{"name":"sql.active_record","payload":{"sql":"UPDATE \"orders\" SET \"seller_id\" = 1 WHERE \"orders\".\"id\" = 3","name":"SQL","connection_id":2219609860,"statement_name":null,"binds":[],"line":10,"filename":"/Users/Ryan/ink/OnlineStore/app/services/order_placing_service.rb","method":"place_order!"},"time":"2015-06-02T16:27:07.465+08:00","transaction_id":"90b9d1b6318d968f2f20","end":"2015-06-02T16:27:07.467+08:00","children":[],"duration":1.472},{"name":"process_action.action_controller","payload":{"controller":"OrdersController","action":"create","params":{"utf8":"✓","authenticity_token":"bBeh91AguyKStMIST1q+k7lQ7O82k8K9Sc22PSzBBx4=","order":{"info_attributes":{"billing_name":"Ryan Yang","billing_address":"pk_test_4TNwAuqdAD1y0Ut9RTr1iVI1","shipping_name":"pk_test_4TNwAuqdAD1y0Ut9RTr1iVI1","shipping_address":"pk_test_4TNwAuqdAD1y0Ut9RTr1iVI1"}},"commit":"生成訂單","action":"create","controller":"orders"},"format":"html","method":"POST","path":"/orders","status":302,"view_runtime":null,"db_runtime":14.130999999999998},"time":"2015-06-02T16:27:07.379+08:00","transaction_id":"76823b06f1d9e5ce6754","end":"2015-06-02T16:27:07.478+08:00","children":[],"duration":99.028}]